<html>
  <head>
    <title>Шпаргалка - STM8 - Управление тактированием</title>
  </head>
  <body>
    <hr>
    <h3>STM8 - управление тактированием МК.</h3>
    Перед началом работы программы всегда настраиваю тактирование МК. С помощью тактирования можно включать и отключать переферийные устройства МК. Это позволяет уменьшить энергопотребление, т.к. по сути мы отключаем не используемые устройства.
    Управление тактированием производится с помощью регистров <b>CLK</b>. Смещение в памяти, относительно базового адреса регистров общего назначение (<b>0x5000</b>), для данных регистров <b>0x00C0</b>. То есть базовый адрес регистров <b>CLK_</b> равен <b>0x5000 + 0x00C0 = 0x50C0<b>. Первый регистр, это регистр:
      <b>CLK_ICKR</b> - регистр внутреннего тактирование. По умолчанию включен только бит 0. Назначение битов:
        <b>HSIEN</b> [0] - включение/выключение HSI.
        <b>HSIRDY</b>[1] - только для чтения. Статус работы HSI.
        <b>FHW</b>   [2] - быстрое пробуждение.
        <b>LSIEN</b> [3] - вкл./выкл. LSI.
        <b>LSIRDY</b>[4] - только для чтения. Статус работы LSI.
        <b>REGAH</b> [5] - вкл./выкл. MVR (главного регулятора напряжения) в active-halt.
  </body>
</html>
